<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.4.1/chart.min.js"></script>
    
    <title>Chart.js bubble</title>
     
</head>
<body>
<h1>Consommation d'électricité en Europe en 2020</h1>
<h2>Avec le Bubble Chart</h2>
<p>Données factices</p>

<div>
    <canvas id="myChart"></canvas>
</div>

<script>
// On déclare les datas :
// le label + sa donnée
// On peut configurer aussi l'apparance
const data = {
    datasets: [
        {
            label: 'France', // Pays
            data: [
                {
                    x: 373, // TWh
                    y: 15, // % d'augmentation/diminuation de consommation par rapport à 2010
                    r: 24 // volume taille habitants
                }
            ],
            backgroundColor:"#318ce7"
      },
      {
            label: 'Allemagne', // Pays
            data: [
                {
                    x: 350, // TWh
                    y: 11, // % d'augmentation/diminuation de consommation par rapport à 2010
                    r: 30 // volume taille habitants
                }
            ],
            backgroundColor:"#000000"
      },
      {
            label: 'Espagne', // Pays
            data: [
                {
                    x: 274, // TWh
                    y: 5, // % d'augmentation/diminuation de consommation par rapport à 2010
                    r: 17 // volume taille habitants
                }
            ],
            backgroundColor:"#f1bf00"
      },
      {
            label: 'Portugal', // Pays
            data: [
                {
                    x: 53, // TWh
                    y: 7, // % d'augmentation/diminuation de consommation par rapport à 2010
                    r: 4 // volume taille habitants
                }
            ],
            backgroundColor:"#006600"
      },
      {
            label: 'Italie', // Pays
            data: [
                {
                    x: 291, // TWh
                    y: 3, // % d'augmentation/diminuation de consommation par rapport à 2010
                    r: 21 // volume taille habitants
                }
            ],
            backgroundColor:"#008c45"
      },
    ]
};

// On configure notre chart
const config = {
    type: 'bubble',
    data: data,
    options: {
        aspectRatio: 3, // Pour le responsive
        scales: {
            // Configuration pour l'axe des X
            x: {
                // On ajoute une légende
                title: {
                    display: true,
                    text: 'Nombre de TWh consommés'
                },
                // On ajoute un label à côté de chaque valeur
                ticks: {                    
                    callback: function(value, index, values) {
                        return value+ 'TWh';
                    }
                }
            },
            // Configuration pour l'axe des y
            y: {
                // On fait commencer les valeurs par 0
                beginAtZero: true,
                // On ajoute une légende
                title: {
                    display: true,
                    text: 'Variation de la consommation par rapport à 2010'
                },
                // On ajoute un label à côté de chaque valeur
                ticks: {
                    callback: function(value, index, values) {
                        return value+ '%';
                    }
                }
            }
        }
    }
};

// On affiche le chart dans l'élément avec l'ID correspondant
var myChart = new Chart(
    document.getElementById('myChart'),
    config
);


</script>
</body>
</html>